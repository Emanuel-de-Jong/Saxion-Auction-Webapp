var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function s(t,e,n){t.$$.on_destroy.push(a(e,n))}function c(t,e,n,r){if(t){const o=l(t,e,n,r);return t[0](o)}}function l(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function u(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}function d(t,e,n,r,o,i){if(o){const a=l(e,n,r,i);t.p(a,o)}}function p(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function f(t,e,n){return t.set(n),e}function h(t,e){t.appendChild(e)}function m(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode.removeChild(t)}function g(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function b(t){return document.createTextNode(t)}function w(){return b(" ")}function y(){return b("")}function x(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function k(t){return function(e){return e.preventDefault(),t.call(this,e)}}function _(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function C(t){return""===t?null:+t}function P(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function E(t,e){t.value=null==e?"":e}function L(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}t.selectedIndex=-1}function S(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function I(t,e,n){t.classList[n?"add":"remove"](e)}let A;function T(t){A=t}function q(){if(!A)throw new Error("Function called outside component initialization");return A}function R(){const t=q();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const o=function(t,e,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,!1,e),r}(e,n);r.slice().forEach((e=>{e.call(t,o)}))}}}const j=[],U=[],z=[],N=[],O=Promise.resolve();let D=!1;function H(t){z.push(t)}function M(t){N.push(t)}let B=!1;const V=new Set;function J(){if(!B){B=!0;do{for(let t=0;t<j.length;t+=1){const e=j[t];T(e),F(e.$$)}for(T(null),j.length=0;U.length;)U.pop()();for(let t=0;t<z.length;t+=1){const e=z[t];V.has(e)||(V.add(e),e())}z.length=0}while(j.length);for(;N.length;)N.pop()();D=!1,B=!1,V.clear()}}function F(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(H)}}const K=new Set;let G;function W(){G={r:0,c:[],p:G}}function Z(){G.r||r(G.c),G=G.p}function Q(t,e){t&&t.i&&(K.delete(t),t.i(e))}function X(t,e,n,r){if(t&&t.o){if(K.has(t))return;K.add(t),G.c.push((()=>{K.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function Y(t,e){const n=e.token={};function r(t,r,o,i){if(e.token!==n)return;e.resolved=i;let a=e.ctx;void 0!==o&&(a=a.slice(),a[o]=i);const s=t&&(e.current=t)(a);let c=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==r&&t&&(W(),X(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),Z())})):e.block.d(1),s.c(),Q(s,1),s.m(e.mount(),e.anchor),c=!0),e.block=s,e.blocks&&(e.blocks[r]=s),c&&J()}if((o=t)&&"object"==typeof o&&"function"==typeof o.then){const n=q();if(t.then((t=>{T(n),r(e.then,1,e.value,t),T(null)}),(t=>{if(T(n),r(e.catch,2,e.error,t),T(null),!e.hasCatch)throw t})),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}var o}function tt(t,e,n){const r=e.slice(),{resolved:o}=t;t.current===t.then&&(r[t.value]=o),t.current===t.catch&&(r[t.error]=o),t.block.p(r,n)}function et(t,e){t.d(1),e.delete(t.key)}function nt(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function rt(t){t&&t.c()}function ot(t,n,i,a){const{fragment:s,on_mount:c,on_destroy:l,after_update:u}=t.$$;s&&s.m(n,i),a||H((()=>{const n=c.map(e).filter(o);l?l.push(...n):r(n),t.$$.on_mount=[]})),u.forEach(H)}function it(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function at(t,e){-1===t.$$.dirty[0]&&(j.push(t),D||(D=!0,O.then(J)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function st(e,o,i,a,s,c,l,u=[-1]){const d=A;T(e);const p=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(d?d.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:o.target||d.$$.root};l&&l(p.root);let f=!1;if(p.ctx=i?i(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&s(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),f&&at(e,t)),n})):[],p.update(),f=!0,r(p.before_update),p.fragment=!!a&&a(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach($)}else p.fragment&&p.fragment.c();o.intro&&Q(e.$$.fragment),ot(e,o.target,o.anchor,o.customElement),J()}T(d)}class ct{$destroy(){it(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var lt,ut,dt=(lt=function(t,e){t.exports=function(){var t=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},e=v,n=s,r=c,o=l,i=g,a=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function s(t){for(var e,n=[],r=0,o=0,i="";null!=(e=a.exec(t));){var s=e[0],c=e[1],l=e.index;if(i+=t.slice(o,l),o=l+s.length,c)i+=c[1];else{i&&(n.push(i),i="");var u=e[2],p=e[3],f=e[4],h=e[5],m=e[6],$=e[7],g="+"===m||"*"===m,v="?"===m||"*"===m,b=u||"/",w=f||h||($?".*":"[^"+b+"]+?");n.push({name:p||r++,prefix:u||"",delimiter:b,optional:v,repeat:g,pattern:d(w)})}}return o<t.length&&(i+=t.substr(o)),i&&n.push(i),n}function c(t){return l(s(t))}function l(e){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(n[r]=new RegExp("^"+e[r].pattern+"$"));return function(r){for(var o="",i=r||{},a=0;a<e.length;a++){var s=e[a];if("string"!=typeof s){var c,l=i[s.name];if(null==l){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to be defined')}if(t(l)){if(!s.repeat)throw new TypeError('Expected "'+s.name+'" to not repeat, but received "'+l+'"');if(0===l.length){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to not be empty')}for(var u=0;u<l.length;u++){if(c=encodeURIComponent(l[u]),!n[a].test(c))throw new TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'", but received "'+c+'"');o+=(0===u?s.prefix:s.delimiter)+c}}else{if(c=encodeURIComponent(l),!n[a].test(c))throw new TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but received "'+c+'"');o+=s.prefix+c}}else o+=s}return o}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function d(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function p(t,e){return t.keys=e,t}function f(t){return t.sensitive?"":"i"}function h(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return p(t,e)}function m(t,e,n){for(var r=[],o=0;o<t.length;o++)r.push(v(t[o],e,n).source);return p(new RegExp("(?:"+r.join("|")+")",f(n)),e)}function $(t,e,n){for(var r=s(t),o=g(r,n),i=0;i<r.length;i++)"string"!=typeof r[i]&&e.push(r[i]);return p(o,e)}function g(t,e){for(var n=(e=e||{}).strict,r=!1!==e.end,o="",i=t[t.length-1],a="string"==typeof i&&/\/$/.test(i),s=0;s<t.length;s++){var c=t[s];if("string"==typeof c)o+=u(c);else{var l=u(c.prefix),d=c.pattern;c.repeat&&(d+="(?:"+l+d+")*"),o+=d=c.optional?l?"(?:"+l+"("+d+"))?":"("+d+")?":l+"("+d+")"}}return n||(o=(a?o.slice(0,-2):o)+"(?:\\/(?=$))?"),o+=r?"$":n&&a?"":"(?=\\/|$)",new RegExp("^"+o,f(e))}function v(e,n,r){return t(n=n||[])?r||(r={}):(r=n,n=[]),e instanceof RegExp?h(e,n):t(e)?m(e,n,r):$(e,n,r)}e.parse=n,e.compile=r,e.tokensToFunction=o,e.tokensToRegExp=i;var b,w="undefined"!=typeof document,y="undefined"!=typeof window,x="undefined"!=typeof history,k="undefined"!=typeof process,_=w&&document.ontouchstart?"touchstart":"click",C=y&&!(!window.history.location&&!window.location);function P(){this.callbacks=[],this.exits=[],this.current="",this.len=0,this._decodeURLComponents=!0,this._base="",this._strict=!1,this._running=!1,this._hashbang=!1,this.clickHandler=this.clickHandler.bind(this),this._onpopstate=this._onpopstate.bind(this)}function E(){var t=new P;function e(){return L.apply(t,arguments)}return e.callbacks=t.callbacks,e.exits=t.exits,e.base=t.base.bind(t),e.strict=t.strict.bind(t),e.start=t.start.bind(t),e.stop=t.stop.bind(t),e.show=t.show.bind(t),e.back=t.back.bind(t),e.redirect=t.redirect.bind(t),e.replace=t.replace.bind(t),e.dispatch=t.dispatch.bind(t),e.exit=t.exit.bind(t),e.configure=t.configure.bind(t),e.sameOrigin=t.sameOrigin.bind(t),e.clickHandler=t.clickHandler.bind(t),e.create=E,Object.defineProperty(e,"len",{get:function(){return t.len},set:function(e){t.len=e}}),Object.defineProperty(e,"current",{get:function(){return t.current},set:function(e){t.current=e}}),e.Context=A,e.Route=T,e}function L(t,e){if("function"==typeof t)return L.call(this,"*",t);if("function"==typeof e)for(var n=new T(t,null,this),r=1;r<arguments.length;++r)this.callbacks.push(n.middleware(arguments[r]));else"string"==typeof t?this["string"==typeof e?"redirect":"show"](t,e):this.start(t)}function S(t){if(!t.handled){var e=this,n=e._window;(e._hashbang?C&&this._getBase()+n.location.hash.replace("#!",""):C&&n.location.pathname+n.location.search)!==t.canonicalPath&&(e.stop(),t.handled=!1,C&&(n.location.href=t.canonicalPath))}}function I(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function A(t,e,n){var r=this.page=n||L,o=r._window,i=r._hashbang,a=r._getBase();"/"===t[0]&&0!==t.indexOf(a)&&(t=a+(i?"#!":"")+t);var s=t.indexOf("?");this.canonicalPath=t;var c=new RegExp("^"+I(a));if(this.path=t.replace(c,"")||"/",i&&(this.path=this.path.replace("#!","")||"/"),this.title=w&&o.document.title,this.state=e||{},this.state.path=t,this.querystring=~s?r._decodeURLEncodedURIComponent(t.slice(s+1)):"",this.pathname=r._decodeURLEncodedURIComponent(~s?t.slice(0,s):t),this.params={},this.hash="",!i){if(!~this.path.indexOf("#"))return;var l=this.path.split("#");this.path=this.pathname=l[0],this.hash=r._decodeURLEncodedURIComponent(l[1])||"",this.querystring=this.querystring.split("#")[0]}}function T(t,n,r){var o=this.page=r||q,i=n||{};i.strict=i.strict||o._strict,this.path="*"===t?"(.*)":t,this.method="GET",this.regexp=e(this.path,this.keys=[],i)}P.prototype.configure=function(t){var e=t||{};this._window=e.window||y&&window,this._decodeURLComponents=!1!==e.decodeURLComponents,this._popstate=!1!==e.popstate&&y,this._click=!1!==e.click&&w,this._hashbang=!!e.hashbang;var n=this._window;this._popstate?n.addEventListener("popstate",this._onpopstate,!1):y&&n.removeEventListener("popstate",this._onpopstate,!1),this._click?n.document.addEventListener(_,this.clickHandler,!1):w&&n.document.removeEventListener(_,this.clickHandler,!1),this._hashbang&&y&&!x?n.addEventListener("hashchange",this._onpopstate,!1):y&&n.removeEventListener("hashchange",this._onpopstate,!1)},P.prototype.base=function(t){if(0===arguments.length)return this._base;this._base=t},P.prototype._getBase=function(){var t=this._base;if(t)return t;var e=y&&this._window&&this._window.location;return y&&this._hashbang&&e&&"file:"===e.protocol&&(t=e.pathname),t},P.prototype.strict=function(t){if(0===arguments.length)return this._strict;this._strict=t},P.prototype.start=function(t){var e=t||{};if(this.configure(e),!1!==e.dispatch){var n;if(this._running=!0,C){var r=this._window.location;n=this._hashbang&&~r.hash.indexOf("#!")?r.hash.substr(2)+r.search:this._hashbang?r.search+r.hash:r.pathname+r.search+r.hash}this.replace(n,null,!0,e.dispatch)}},P.prototype.stop=function(){if(this._running){this.current="",this.len=0,this._running=!1;var t=this._window;this._click&&t.document.removeEventListener(_,this.clickHandler,!1),y&&t.removeEventListener("popstate",this._onpopstate,!1),y&&t.removeEventListener("hashchange",this._onpopstate,!1)}},P.prototype.show=function(t,e,n,r){var o=new A(t,e,this),i=this.prevContext;return this.prevContext=o,this.current=o.path,!1!==n&&this.dispatch(o,i),!1!==o.handled&&!1!==r&&o.pushState(),o},P.prototype.back=function(t,e){var n=this;if(this.len>0){var r=this._window;x&&r.history.back(),this.len--}else t?setTimeout((function(){n.show(t,e)})):setTimeout((function(){n.show(n._getBase(),e)}))},P.prototype.redirect=function(t,e){var n=this;"string"==typeof t&&"string"==typeof e&&L.call(this,t,(function(t){setTimeout((function(){n.replace(e)}),0)})),"string"==typeof t&&void 0===e&&setTimeout((function(){n.replace(t)}),0)},P.prototype.replace=function(t,e,n,r){var o=new A(t,e,this),i=this.prevContext;return this.prevContext=o,this.current=o.path,o.init=n,o.save(),!1!==r&&this.dispatch(o,i),o},P.prototype.dispatch=function(t,e){var n=0,r=0,o=this;function i(){var t=o.exits[r++];if(!t)return a();t(e,i)}function a(){var e=o.callbacks[n++];if(t.path===o.current)return e?void e(t,a):S.call(o,t);t.handled=!1}e?i():a()},P.prototype.exit=function(t,e){if("function"==typeof t)return this.exit("*",t);for(var n=new T(t,null,this),r=1;r<arguments.length;++r)this.exits.push(n.middleware(arguments[r]))},P.prototype.clickHandler=function(t){if(1===this._which(t)&&!(t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){var e=t.target,n=t.path||(t.composedPath?t.composedPath():null);if(n)for(var r=0;r<n.length;r++)if(n[r].nodeName&&"A"===n[r].nodeName.toUpperCase()&&n[r].href){e=n[r];break}for(;e&&"A"!==e.nodeName.toUpperCase();)e=e.parentNode;if(e&&"A"===e.nodeName.toUpperCase()){var o="object"==typeof e.href&&"SVGAnimatedString"===e.href.constructor.name;if(!e.hasAttribute("download")&&"external"!==e.getAttribute("rel")){var i=e.getAttribute("href");if((this._hashbang||!this._samePath(e)||!e.hash&&"#"!==i)&&!(i&&i.indexOf("mailto:")>-1)&&!(o?e.target.baseVal:e.target)&&(o||this.sameOrigin(e.href))){var a=o?e.href.baseVal:e.pathname+e.search+(e.hash||"");a="/"!==a[0]?"/"+a:a,k&&a.match(/^\/[a-zA-Z]:\//)&&(a=a.replace(/^\/[a-zA-Z]:\//,"/"));var s=a,c=this._getBase();0===a.indexOf(c)&&(a=a.substr(c.length)),this._hashbang&&(a=a.replace("#!","")),(!c||s!==a||C&&"file:"===this._window.location.protocol)&&(t.preventDefault(),this.show(s))}}}}},P.prototype._onpopstate=(b=!1,y?(w&&"complete"===document.readyState?b=!0:window.addEventListener("load",(function(){setTimeout((function(){b=!0}),0)})),function(t){if(b){var e=this;if(t.state){var n=t.state.path;e.replace(n,t.state)}else if(C){var r=e._window.location;e.show(r.pathname+r.search+r.hash,void 0,void 0,!1)}}}):function(){}),P.prototype._which=function(t){return null==(t=t||y&&this._window.event).which?t.button:t.which},P.prototype._toURL=function(t){var e=this._window;if("function"==typeof URL&&C)return new URL(t,e.location.toString());if(w){var n=e.document.createElement("a");return n.href=t,n}},P.prototype.sameOrigin=function(t){if(!t||!C)return!1;var e=this._toURL(t),n=this._window.location;return n.protocol===e.protocol&&n.hostname===e.hostname&&(n.port===e.port||""===n.port&&(80==e.port||443==e.port))},P.prototype._samePath=function(t){if(!C)return!1;var e=this._window.location;return t.pathname===e.pathname&&t.search===e.search},P.prototype._decodeURLEncodedURIComponent=function(t){return"string"!=typeof t?t:this._decodeURLComponents?decodeURIComponent(t.replace(/\+/g," ")):t},A.prototype.pushState=function(){var t=this.page,e=t._window,n=t._hashbang;t.len++,x&&e.history.pushState(this.state,this.title,n&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},A.prototype.save=function(){var t=this.page;x&&t._window.history.replaceState(this.state,this.title,t._hashbang&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},T.prototype.middleware=function(t){var e=this;return function(n,r){if(e.match(n.path,n.params))return n.routePath=e.path,t(n,r);r()}},T.prototype.match=function(t,e){var n=this.keys,r=t.indexOf("?"),o=~r?t.slice(0,r):t,i=this.regexp.exec(decodeURIComponent(o));if(!i)return!1;delete e[0];for(var a=1,s=i.length;a<s;++a){var c=n[a-1],l=this.page._decodeURLEncodedURIComponent(i[a]);void 0===l&&hasOwnProperty.call(e,c.name)||(e[c.name]=l)}return!0};var q=E(),R=q,j=q;return R.default=j,R}()},lt(ut={exports:{}},ut.exports),ut.exports);const pt=[];function ft(t,e){return{subscribe:ht(t,e).subscribe}}function ht(e,n=t){let r;const o=new Set;function a(t){if(i(e,t)&&(e=t,r)){const t=!pt.length;for(const t of o)t[1](),pt.push(t,e);if(t){for(let t=0;t<pt.length;t+=2)pt[t][0](pt[t+1]);pt.length=0}}}return{set:a,update:function(t){a(t(e))},subscribe:function(i,s=t){const c=[i,s];return o.add(c),1===o.size&&(r=n(a)||t),i(e),()=>{o.delete(c),0===o.size&&(r(),r=null)}}}}function mt(e,n,i){const s=!Array.isArray(e),c=s?[e]:e,l=n.length<2;return ft(i,(e=>{let i=!1;const u=[];let d=0,p=t;const f=()=>{if(d)return;p();const r=n(s?u[0]:u,e);l?e(r):p=o(r)?r:t},h=c.map(((t,e)=>a(t,(t=>{u[e]=t,d&=~(1<<e),i&&f()}),(()=>{d|=1<<e}))));return i=!0,f(),function(){r(h),p()}}))}const $t=ft([],(function(t){return fetch("http://localhost:3000/api/products").then((function(t){if(!t.ok)throw new Error("unable to load products");return t.json()})).then((function(e){t(e)})).catch((function(t){console.error(t)})),function(){}}));const gt=ht([],(function(t){return fetch("http://localhost:3000/api/auctions").then((function(e){if(!e.ok)throw new Error("Unable to load auctions");e.json().then((function(e){console.log({data:e}),t(e)}))})).catch((function(t){console.error(t)})),function(){}})),vt=ht(""),bt=ht({region:"",capacity:"",brand:""}),wt=mt([gt,vt,bt],(([t,e,n],r)=>{let o=t;n&&o&&(o=o.filter((t=>(void 0===t.product&&function(t){if(!(t instanceof Object))throw new Error("input is not an array");{let e;$t.subscribe((t=>e=t)),t.product=e.find((e=>e.id===t.productId))}}(t),(!n.region||n.region.toString().toLowerCase()===t.product.region.toString().toLowerCase())&&((!n.capacity||n.capacity.toString().toLowerCase()===t.product.capacity.toString().toLowerCase())&&(!n.brand||n.brand.toString().toLowerCase()===t.product.brand.toString().toLowerCase())))))),e.length>0&&o&&(o=o.filter((t=>{if(t.product)for(const n of Object.values(t.product)){if("string"==typeof n&&n.toLowerCase().includes(e))return!0;if("number"==typeof n&&n.toString().includes(e))return!0}return!1}))),r(o)}));function yt(e){let n,r,o;return{c(){n=v("input"),_(n,"placeholder","Search...")},m(t,i){m(t,n,i),E(n,e[0]),r||(o=x(n,"input",e[2]),r=!0)},p(t,[e]){1&e&&n.value!==t[0]&&E(n,t[0])},i:t,o:t,d(t){t&&$(n),r=!1,o()}}}function xt(t,e,n){let r;s(t,vt,(t=>n(0,r=t))),R();let{input:o=[]}=e;return t.$$set=t=>{"input"in t&&n(1,o=t.input)},[r,o,function(){r=this.value,vt.set(r)}]}class kt extends ct{constructor(t){super(),st(this,t,xt,yt,i,{input:1})}}const _t=ht(""),Ct=mt(_t,(t=>{if(t){let e=t.split(".")[1];return e=decodeURIComponent(escape(window.atob(e))),e=JSON.parse(e),e}}));function Pt(e){let n;return{c(){n=v("div"),n.textContent="loading...",_(n,"class","beer svelte-vf915m")},m(t,e){m(t,n,e)},p:t,d(t){t&&$(n)}}}function Et(t){let e,n,r,o,i,a,s,c,l,u,d,p,f,g,y,x,k,C,E,L,S,I,A,T,q=t[0].product.name+"",R=t[0].product.region+"",j=t[0].product.capacity+"",U=t[0].product.brand+"",z=t[1]&&Lt(t),N=t[1]&&St(t);return{c(){e=v("div"),n=v("span"),r=v("a"),o=b(q),a=v("br"),s=w(),c=v("ul"),l=v("li"),u=v("b"),u.textContent="Region:",d=w(),p=b(R),f=w(),g=v("li"),y=v("b"),y.textContent="Capacity:",x=w(),k=b(j),C=w(),E=v("li"),L=v("b"),L.textContent="Brand:",S=w(),I=b(U),A=w(),z&&z.c(),T=w(),N&&N.c(),_(r,"href",i="/auctions/"+t[0].id),_(n,"class","title svelte-vf915m"),_(c,"class","svelte-vf915m"),_(e,"class","beer svelte-vf915m")},m(t,i){m(t,e,i),h(e,n),h(n,r),h(r,o),h(e,a),h(e,s),h(e,c),h(c,l),h(l,u),h(l,d),h(l,p),h(c,f),h(c,g),h(g,y),h(g,x),h(g,k),h(c,C),h(c,E),h(E,L),h(E,S),h(E,I),h(c,A),z&&z.m(c,null),h(e,T),N&&N.m(e,null)},p(t,n){1&n&&q!==(q=t[0].product.name+"")&&P(o,q),1&n&&i!==(i="/auctions/"+t[0].id)&&_(r,"href",i),1&n&&R!==(R=t[0].product.region+"")&&P(p,R),1&n&&j!==(j=t[0].product.capacity+"")&&P(k,j),1&n&&U!==(U=t[0].product.brand+"")&&P(I,U),t[1]?z?z.p(t,n):(z=Lt(t),z.c(),z.m(c,null)):z&&(z.d(1),z=null),t[1]?N?N.p(t,n):(N=St(t),N.c(),N.m(e,null)):N&&(N.d(1),N=null)},d(t){t&&$(e),z&&z.d(),N&&N.d()}}}function Lt(t){let e,n,r,o,i=t[0].id+"";return{c(){e=v("li"),n=v("b"),n.textContent="Auction ID:",r=w(),o=b(i)},m(t,i){m(t,e,i),h(e,n),h(e,r),h(e,o)},p(t,e){1&e&&i!==(i=t[0].id+"")&&P(o,i)},d(t){t&&$(e)}}}function St(e){let n,o,i,a,s,c;return{c(){n=v("div"),o=v("button"),o.textContent="Edit",i=w(),a=v("button"),a.textContent="Delete",_(n,"class","admin")},m(t,r){m(t,n,r),h(n,o),h(n,i),h(n,a),s||(c=[x(o,"click",e[4]),x(a,"click",e[2])],s=!0)},p:t,d(t){t&&$(n),s=!1,r(c)}}}function It(e){let n;function r(t,e){return t[0].product?Et:Pt}let o=r(e),i=o(e);return{c(){i.c(),n=y()},m(t,e){i.m(t,e),m(t,n,e)},p(t,[e]){o===(o=r(t))&&i?i.p(t,e):(i.d(1),i=o(t),i&&(i.c(),i.m(n.parentNode,n)))},i:t,o:t,d(t){i.d(t),t&&$(n)}}}function At(t,e,n){let r,o;s(t,_t,(t=>n(5,r=t))),s(t,$t,(t=>n(3,o=t))),R();let{admin:i}=e,{beer:a={id:void 0,startPrice:void 0,price:void 0,startDate:void 0,endDate:void 0,productId:void 0}}=e;return t.$$set=t=>{"admin"in t&&n(1,i=t.admin),"beer"in t&&n(0,a=t.beer)},t.$$.update=()=>{9&t.$$.dirty&&n(0,a.product=o.find((t=>t.id===a.productId)),a)},[a,i,async function(){let t=await fetch("http://localhost:3000/api/auctions/"+a.id,{method:"delete",headers:new Headers({Authorization:"bearer "+r})});if(t.ok){let e=await t.json();return gt.update((t=>t.filter((t=>t.id!==a.id)))),e}throw new Error("Couldn't fetch bids")},o,()=>dt.redirect("/auctions/"+a.id+"/edit")]}class Tt extends ct{constructor(t){super(),st(this,t,At,It,i,{admin:1,beer:0})}}function qt(t,e,n){const r=t.slice();return r[6]=e[n],r}function Rt(t){let e,n;return e=new Tt({props:{admin:t[1],beer:t[6]}}),{c(){rt(e.$$.fragment)},m(t,r){ot(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.admin=t[1]),4&n&&(r.beer=t[6]),e.$set(r)},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){it(e,t)}}}function jt(t){let e,n,r="beer"===t[0]&&Rt(t);return{c(){r&&r.c(),e=y()},m(t,o){r&&r.m(t,o),m(t,e,o),n=!0},p(t,n){"beer"===t[0]?r?(r.p(t,n),1&n&&Q(r,1)):(r=Rt(t),r.c(),Q(r,1),r.m(e.parentNode,e)):r&&(W(),X(r,1,1,(()=>{r=null})),Z())},i(t){n||(Q(r),n=!0)},o(t){X(r),n=!1},d(t){r&&r.d(t),t&&$(e)}}}function Ut(t){let e,n,r=t[2],o=[];for(let e=0;e<r.length;e+=1)o[e]=jt(qt(t,r,e));const i=t=>X(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=y()},m(t,r){for(let e=0;e<o.length;e+=1)o[e].m(t,r);m(t,e,r),n=!0},p(t,[n]){if(7&n){let a;for(r=t[2],a=0;a<r.length;a+=1){const i=qt(t,r,a);o[a]?(o[a].p(i,n),Q(o[a],1)):(o[a]=jt(i),o[a].c(),Q(o[a],1),o[a].m(e.parentNode,e))}for(W(),a=r.length;a<o.length;a+=1)i(a);Z()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)Q(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)X(o[t]);n=!1},d(t){g(o,t),t&&$(e)}}}function zt(t,e,n){let r;s(t,wt,(t=>n(5,r=t)));let{listPageSize:o=1}=e,{currListPage:i=1}=e,{itemType:a=""}=e,{admin:c=!1}=e,l=[];return t.$$set=t=>{"listPageSize"in t&&n(3,o=t.listPageSize),"currListPage"in t&&n(4,i=t.currListPage),"itemType"in t&&n(0,a=t.itemType),"admin"in t&&n(1,c=t.admin)},t.$$.update=()=>{if(56&t.$$.dirty){n(4,i=parseInt(i)),n(3,o=parseInt(o));let t=(i-1)*o,e=t+o<=r.length?t+o:r.length;n(2,l=r.slice(t,e))}},[a,c,l,o,i,r]}class Nt extends ct{constructor(t){super(),st(this,t,zt,Ut,i,{listPageSize:3,currListPage:4,itemType:0,admin:1})}}function Ot(e){let n,o,i,a,s,c,l,u,d,p,f,g,y,k;return{c(){n=v("button"),n.textContent="first",o=w(),i=v("button"),i.textContent="prev",a=w(),s=v("span"),c=b(e[0]),l=b("/"),u=b(e[1]),d=w(),p=v("button"),p.textContent="next",f=w(),g=v("button"),g.textContent="last"},m(t,r){m(t,n,r),m(t,o,r),m(t,i,r),m(t,a,r),m(t,s,r),h(s,c),h(s,l),h(s,u),m(t,d,r),m(t,p,r),m(t,f,r),m(t,g,r),y||(k=[x(n,"click",e[2]),x(i,"click",e[3]),x(p,"click",e[4]),x(g,"click",e[5])],y=!0)},p(t,[e]){1&e&&P(c,t[0]),2&e&&P(u,t[1])},i:t,o:t,d(t){t&&$(n),t&&$(o),t&&$(i),t&&$(a),t&&$(s),t&&$(d),t&&$(p),t&&$(f),t&&$(g),y=!1,r(k)}}}function Dt(t,e,n){let r;s(t,wt,(t=>n(7,r=t)));const o=R();let{listPageSize:i=1}=e,a=1,c=1;const l=()=>{o("updateCurrListPage",{text:a})};return t.$$set=t=>{"listPageSize"in t&&n(6,i=t.listPageSize)},t.$$.update=()=>{192&t.$$.dirty&&n(1,c=Math.ceil(r.length/i))},[a,c,()=>{1!==a&&(n(0,a=1),l())},()=>{a>1&&(n(0,a-=1),l())},()=>{a<c&&(n(0,a+=1),l())},()=>{a!==c&&(n(0,a=c),l())},i,r]}class Ht extends ct{constructor(t){super(),st(this,t,Dt,Ot,i,{listPageSize:6})}}function Mt(e){let n,r,o=e[9].message+"";return{c(){n=v("p"),r=b(o)},m(t,e){m(t,n,e),h(n,r)},p:t,i:t,o:t,d(t){t&&$(n)}}}function Bt(t){let e,n,r,o,i,a,s,c;e=new kt({props:{input:t[4]}});let l=t[2]&&Vt(t);return i=new Nt({props:{admin:t[2],currListPage:t[3],listPageSize:t[1],itemType:t[0]}}),s=new Ht({props:{listPageSize:t[1]}}),s.$on("updateCurrListPage",t[6]),{c(){rt(e.$$.fragment),n=w(),l&&l.c(),r=w(),o=v("div"),rt(i.$$.fragment),a=w(),rt(s.$$.fragment),_(o,"class","content svelte-11ni7em")},m(t,u){ot(e,t,u),m(t,n,u),l&&l.m(t,u),m(t,r,u),m(t,o,u),ot(i,o,null),m(t,a,u),ot(s,t,u),c=!0},p(t,n){const o={};16&n&&(o.input=t[4]),e.$set(o),t[2]?l?l.p(t,n):(l=Vt(t),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null);const a={};4&n&&(a.admin=t[2]),8&n&&(a.currListPage=t[3]),2&n&&(a.listPageSize=t[1]),1&n&&(a.itemType=t[0]),i.$set(a);const c={};2&n&&(c.listPageSize=t[1]),s.$set(c)},i(t){c||(Q(e.$$.fragment,t),Q(i.$$.fragment,t),Q(s.$$.fragment,t),c=!0)},o(t){X(e.$$.fragment,t),X(i.$$.fragment,t),X(s.$$.fragment,t),c=!1},d(t){it(e,t),t&&$(n),l&&l.d(t),t&&$(r),t&&$(o),it(i),t&&$(a),it(s,t)}}}function Vt(e){let n,r,o;return{c(){n=v("button"),n.textContent="add new Auction"},m(t,i){m(t,n,i),r||(o=x(n,"click",e[7]),r=!0)},p:t,d(t){t&&$(n),r=!1,o()}}}function Jt(e){let n;return{c(){n=v("p"),n.textContent="...Waiting"},m(t,e){m(t,n,e)},p:t,i:t,o:t,d(t){t&&$(n)}}}function Ft(t){let e,n,r={ctx:t,current:null,token:null,hasCatch:!0,pending:Jt,then:Bt,catch:Mt,value:8,error:9,blocks:[,,,]};return Y(t[5],r),{c(){e=y(),r.block.c()},m(t,o){m(t,e,o),r.block.m(t,r.anchor=o),r.mount=()=>e.parentNode,r.anchor=e,n=!0},p(e,[n]){tt(r,t=e,n)},i(t){n||(Q(r.block),n=!0)},o(t){for(let t=0;t<3;t+=1){X(r.blocks[t])}n=!1},d(t){t&&$(e),r.block.d(t),r.token=null,r=null}}}function Kt(t,e,n){let r;s(t,gt,(t=>n(4,r=t)));let{itemType:o="beer"}=e,{listPageSize:i=1}=e,{admin:a=!1}=e,c=1;return t.$$set=t=>{"itemType"in t&&n(0,o=t.itemType),"listPageSize"in t&&n(1,i=t.listPageSize),"admin"in t&&n(2,a=t.admin)},[o,i,a,c,r,undefined,t=>{n(3,c=t.detail.text)},()=>dt.redirect("/auctions/new")]}class Gt extends ct{constructor(t){super(),st(this,t,Kt,Ft,i,{itemType:0,listPageSize:1,admin:2})}}function Wt(t){let e;return{c(){e=v("div"),e.innerHTML='<a href="/login" class="svelte-1akq0db">Login</a>',_(e,"class","login svelte-1akq0db")},m(t,n){m(t,e,n)},d(t){t&&$(e)}}}function Zt(t){let e;return{c(){e=v("div"),e.innerHTML='<a href="/profile" class="svelte-1akq0db">Account</a>',_(e,"class","login svelte-1akq0db")},m(t,n){m(t,e,n)},d(t){t&&$(e)}}}function Qt(e){let n,r,o,i,a,s,c=e[1]()&&function(t){let e;return{c(){e=v("div"),e.innerHTML='<a href="/admin" class="svelte-1akq0db">Admin</a>',_(e,"class","admin svelte-1akq0db")},m(t,n){m(t,e,n)},d(t){t&&$(e)}}}();function l(t,e){return t[0]?Zt:Wt}let u=l(e),d=u(e);return{c(){n=v("nav"),r=v("div"),r.innerHTML='<a href="/" class="svelte-1akq0db">Home</a>',o=w(),c&&c.c(),i=w(),a=v("div"),a.innerHTML='<a href="/register" class="svelte-1akq0db">Register</a>',s=w(),d.c(),_(r,"class","home svelte-1akq0db"),_(a,"class","register svelte-1akq0db"),_(n,"class","svelte-1akq0db")},m(t,e){m(t,n,e),h(n,r),h(n,o),c&&c.m(n,null),h(n,i),h(n,a),h(n,s),d.m(n,null)},p(t,[e]){u!==(u=l(t))&&(d.d(1),d=u(t),d&&(d.c(),d.m(n,null)))},i:t,o:t,d(t){t&&$(n),c&&c.d(),d.d()}}}function Xt(t,e,n){let r,o;return s(t,Ct,(t=>n(2,r=t))),s(t,_t,(t=>n(0,o=t))),[o,function(){return void 0!==r&&r.roles.includes("admin")}]}class Yt extends ct{constructor(t){super(),st(this,t,Xt,Qt,i,{})}}function te(t,e,n){const r=t.slice();return r[5]=e[n],r}function ee(t){let e,n,r,o=t[5]+"";return{c(){e=v("option"),n=b(o),e.__value=r=t[5],e.value=e.__value},m(t,r){m(t,e,r),h(e,n)},p(t,i){4&i&&o!==(o=t[5]+"")&&P(n,o),4&i&&r!==(r=t[5])&&(e.__value=r,e.value=e.__value)},d(t){t&&$(e)}}}function ne(e){let n,r,o,i,a,s,c=e[2],l=[];for(let t=0;t<c.length;t+=1)l[t]=ee(te(e,c,t));return{c(){n=v("label"),r=b(e[1]),o=w(),i=v("select");for(let t=0;t<l.length;t+=1)l[t].c();_(n,"for",e[1]),_(n,"class","svelte-muvt6r"),_(i,"name",e[1]),_(i,"id",e[1]),_(i,"class","svelte-muvt6r"),void 0===e[0]&&H((()=>e[4].call(i)))},m(t,c){m(t,n,c),h(n,r),m(t,o,c),m(t,i,c);for(let t=0;t<l.length;t+=1)l[t].m(i,null);L(i,e[0]),a||(s=x(i,"change",e[4]),a=!0)},p(t,[e]){if(2&e&&P(r,t[1]),2&e&&_(n,"for",t[1]),4&e){let n;for(c=t[2],n=0;n<c.length;n+=1){const r=te(t,c,n);l[n]?l[n].p(r,e):(l[n]=ee(r),l[n].c(),l[n].m(i,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=c.length}2&e&&_(i,"name",t[1]),2&e&&_(i,"id",t[1]),5&e&&L(i,t[0])},i:t,o:t,d(t){t&&$(n),t&&$(o),t&&$(i),g(l,t),a=!1,s()}}}function re(t,e,n){let r;s(t,$t,(t=>n(3,r=t)));let{filterItem:o}=e,{value:i=""}=e,a=[""];return t.$$set=t=>{"filterItem"in t&&n(1,o=t.filterItem),"value"in t&&n(0,i=t.value)},t.$$.update=()=>{14&t.$$.dirty&&r.forEach((t=>{for(const[e,r]of Object.entries(t))e.toLowerCase()!==o.toLowerCase()||a.includes(r)||n(2,a=[...a,r])}))},[i,o,a,r,function(){i=S(this),n(0,i),n(2,a),n(3,r),n(1,o)}]}class oe extends ct{constructor(t){super(),st(this,t,re,ne,i,{filterItem:1,value:0})}}function ie(t){let e,n,r,o,i,a,s,c,l,u,d,p,f,g;function b(e){t[4](e)}let y={filterItem:"region"};function C(e){t[5](e)}void 0!==t[0]&&(y.value=t[0]),n=new oe({props:y}),U.push((()=>nt(n,"value",b)));let P={filterItem:"capacity"};function E(e){t[6](e)}void 0!==t[1]&&(P.value=t[1]),i=new oe({props:P}),U.push((()=>nt(i,"value",C)));let L={filterItem:"brand"};return void 0!==t[2]&&(L.value=t[2]),c=new oe({props:L}),U.push((()=>nt(c,"value",E))),{c(){e=v("form"),rt(n.$$.fragment),o=w(),rt(i.$$.fragment),s=w(),rt(c.$$.fragment),u=w(),d=v("button"),d.textContent="Filter",_(d,"type","submit"),d.value="submit",_(d,"class","svelte-vcooqq"),_(e,"class","svelte-vcooqq")},m(r,a){m(r,e,a),ot(n,e,null),h(e,o),ot(i,e,null),h(e,s),ot(c,e,null),h(e,u),h(e,d),p=!0,f||(g=x(e,"submit",k(t[3])),f=!0)},p(t,[e]){const o={};!r&&1&e&&(r=!0,o.value=t[0],M((()=>r=!1))),n.$set(o);const s={};!a&&2&e&&(a=!0,s.value=t[1],M((()=>a=!1))),i.$set(s);const u={};!l&&4&e&&(l=!0,u.value=t[2],M((()=>l=!1))),c.$set(u)},i(t){p||(Q(n.$$.fragment,t),Q(i.$$.fragment,t),Q(c.$$.fragment,t),p=!0)},o(t){X(n.$$.fragment,t),X(i.$$.fragment,t),X(c.$$.fragment,t),p=!1},d(t){t&&$(e),it(n),it(i),it(c),f=!1,g()}}}function ae(t,e,n){let r,o,i,a;return s(t,bt,(t=>n(7,r=t))),[o,i,a,function(){f(bt,r={region:o,capacity:i,brand:a},r)},function(t){o=t,n(0,o)},function(t){i=t,n(1,i)},function(t){a=t,n(2,a)}]}class se extends ct{constructor(t){super(),st(this,t,ae,ie,i,{})}}function ce(e){let n,r,o,i,a,s,c,l,u;return r=new Yt({}),a=new Gt({props:{itemType:"beer",listPageSize:"4"}}),l=new se({}),{c(){n=v("main"),rt(r.$$.fragment),o=w(),i=v("div"),rt(a.$$.fragment),s=w(),c=v("div"),rt(l.$$.fragment),_(i,"class","center svelte-1dr5lih"),_(c,"class","left svelte-1dr5lih"),_(n,"class","svelte-1dr5lih")},m(t,e){m(t,n,e),ot(r,n,null),h(n,o),h(n,i),ot(a,i,null),h(n,s),h(n,c),ot(l,c,null),u=!0},p:t,i(t){u||(Q(r.$$.fragment,t),Q(a.$$.fragment,t),Q(l.$$.fragment,t),u=!0)},o(t){X(r.$$.fragment,t),X(a.$$.fragment,t),X(l.$$.fragment,t),u=!1},d(t){t&&$(n),it(r),it(a),it(l)}}}function le(t,e,n){let{params:r}=e;return t.$$set=t=>{"params"in t&&n(0,r=t.params)},[r]}class ue extends ct{constructor(t){super(),st(this,t,le,ce,i,{params:0})}}function de(t){let e,n,r,o,i,a,s;const l=t[4].default,f=c(l,t,t[3],null);return{c(){e=v("label"),f&&f.c(),n=w(),r=v("input"),o=v("br"),_(e,"for",t[1]),_(r,"name",t[1]),_(r,"id",t[1]),_(r,"placeholder",t[2]),_(r,"type","text"),_(r,"class","svelte-1g50vj2")},m(c,l){m(c,e,l),f&&f.m(e,null),m(c,n,l),m(c,r,l),E(r,t[0]),m(c,o,l),i=!0,a||(s=x(r,"input",t[5]),a=!0)},p(t,[n]){f&&f.p&&(!i||8&n)&&d(f,l,t,t[3],i?u(l,t[3],n,null):p(t[3]),null),(!i||2&n)&&_(e,"for",t[1]),(!i||2&n)&&_(r,"name",t[1]),(!i||2&n)&&_(r,"id",t[1]),(!i||4&n)&&_(r,"placeholder",t[2]),1&n&&r.value!==t[0]&&E(r,t[0])},i(t){i||(Q(f,t),i=!0)},o(t){X(f,t),i=!1},d(t){t&&$(e),f&&f.d(t),t&&$(n),t&&$(r),t&&$(o),a=!1,s()}}}function pe(t,e,n){let{$$slots:r={},$$scope:o}=e,{name:i=""}=e,{placeholder:a=""}=e,{value:s=""}=e;return t.$$set=t=>{"name"in t&&n(1,i=t.name),"placeholder"in t&&n(2,a=t.placeholder),"value"in t&&n(0,s=t.value),"$$scope"in t&&n(3,o=t.$$scope)},[s,i,a,o,r,function(){s=this.value,n(0,s)}]}class fe extends ct{constructor(t){super(),st(this,t,pe,de,i,{name:1,placeholder:2,value:0})}}function he(t){let e,n,r,o,i,a,s,l,f,g,y,k;const C=t[8].default,L=c(C,t,t[7],null);return{c(){e=v("div"),n=w(),r=v("label"),L&&L.c(),o=w(),i=v("span"),a=b(t[0]),s=w(),l=v("input"),f=v("br"),_(e,"class","falseInput svelte-115dqbd"),_(e,"display","none"),_(i,"class","error svelte-115dqbd"),_(r,"for",t[1]),_(l,"name",t[1]),_(l,"id",t[1]),_(l,"placeholder",t[2]),_(l,"type","password"),_(l,"class","svelte-115dqbd"),I(l,"falseInput",t[0])},m(c,u){m(c,e,u),m(c,n,u),m(c,r,u),L&&L.m(r,null),h(r,o),h(r,i),h(i,a),m(c,s,u),m(c,l,u),E(l,t[3]),m(c,f,u),g=!0,y||(k=x(l,"input",t[9]),y=!0)},p(t,[e]){L&&L.p&&(!g||128&e)&&d(L,C,t,t[7],g?u(C,t[7],e,null):p(t[7]),null),(!g||1&e)&&P(a,t[0]),(!g||2&e)&&_(r,"for",t[1]),(!g||2&e)&&_(l,"name",t[1]),(!g||2&e)&&_(l,"id",t[1]),(!g||4&e)&&_(l,"placeholder",t[2]),8&e&&l.value!==t[3]&&E(l,t[3]),1&e&&I(l,"falseInput",t[0])},i(t){g||(Q(L,t),g=!0)},o(t){X(L,t),g=!1},d(t){t&&$(e),t&&$(n),t&&$(r),L&&L.d(t),t&&$(s),t&&$(l),t&&$(f),y=!1,k()}}}function me(t,e,n){let{$$slots:r={},$$scope:o}=e,{name:i=""}=e,{placeholder:a=""}=e,{validate:s=!1}=e,{sameAs:c=null}=e,l="",{value:u=""}=e,{err:d=""}=e;return t.$$set=t=>{"name"in t&&n(1,i=t.name),"placeholder"in t&&n(2,a=t.placeholder),"validate"in t&&n(5,s=t.validate),"sameAs"in t&&n(6,c=t.sameAs),"value"in t&&n(4,u=t.value),"err"in t&&n(0,d=t.err),"$$scope"in t&&n(7,o=t.$$scope)},t.$$.update=()=>{104&t.$$.dirty&&(s?!function(t){if(t.length<6)return!1;let e=!1,n=!1;return[...t].forEach((t=>{t===t.toUpperCase()&&(e=!0),isNaN(t)||(n=!0)})),e&&n}(l)&&""!==l?(n(4,u=""),n(0,d="Password too simple")):(n(4,u=l),n(0,d="")):c?l===c||""===l?(n(4,u=l),n(0,d="")):(n(4,u=""),n(0,d="Different passwords")):n(4,u=l))},[d,i,a,l,u,s,c,o,r,function(){l=this.value,n(3,l)}]}class $e extends ct{constructor(t){super(),st(this,t,me,he,i,{name:1,placeholder:2,validate:5,sameAs:6,value:4,err:0})}}function ge(t){let e;return{c(){e=b("username")},m(t,n){m(t,e,n)},d(t){t&&$(e)}}}function ve(t){let e;return{c(){e=b("password")},m(t,n){m(t,e,n)},d(t){t&&$(e)}}}function be(t){let e,n;return{c(){e=v("div"),n=b(t[2]),_(e,"id","error"),_(e,"class","svelte-5qb2ty")},m(t,r){m(t,e,r),h(e,n)},p(t,e){4&e&&P(n,t[2])},d(t){t&&$(e)}}}function we(t){let e,n,r,o,i,a,s,c,l,u,d,p;function f(e){t[4](e)}let g={placeholder:"username123",name:"username",$$slots:{default:[ge]},$$scope:{ctx:t}};function b(e){t[5](e)}void 0!==t[0]&&(g.value=t[0]),n=new fe({props:g}),U.push((()=>nt(n,"value",f)));let y={name:"password",$$slots:{default:[ve]},$$scope:{ctx:t}};void 0!==t[1]&&(y.value=t[1]),i=new $e({props:y}),U.push((()=>nt(i,"value",b)));let C=t[2]&&be(t);return{c(){e=v("form"),rt(n.$$.fragment),o=w(),rt(i.$$.fragment),s=w(),c=v("button"),c.textContent="Login",l=w(),C&&C.c(),_(c,"type","submit"),c.value="submit",_(c,"class","svelte-5qb2ty")},m(r,a){m(r,e,a),ot(n,e,null),h(e,o),ot(i,e,null),h(e,s),h(e,c),h(e,l),C&&C.m(e,null),u=!0,d||(p=x(e,"submit",k(t[3])),d=!0)},p(t,[o]){const s={};128&o&&(s.$$scope={dirty:o,ctx:t}),!r&&1&o&&(r=!0,s.value=t[0],M((()=>r=!1))),n.$set(s);const c={};128&o&&(c.$$scope={dirty:o,ctx:t}),!a&&2&o&&(a=!0,c.value=t[1],M((()=>a=!1))),i.$set(c),t[2]?C?C.p(t,o):(C=be(t),C.c(),C.m(e,null)):C&&(C.d(1),C=null)},i(t){u||(Q(n.$$.fragment,t),Q(i.$$.fragment,t),u=!0)},o(t){X(n.$$.fragment,t),X(i.$$.fragment,t),u=!1},d(t){t&&$(e),it(n),it(i),C&&C.d(),d=!1,p()}}}function ye(t,e,n){let r,o,i;s(t,_t,(t=>n(6,r=t)));let a=null;return[o,i,a,async function(){let t=await fetch("http://localhost:3000/api/credentials",{method:"POST",headers:{"Content-Type":"Application/json"},body:JSON.stringify({username:o,password:i})});201===t.status?(n(2,a=null),t=await t.json(),f(_t,r=t.token,r),dt.redirect("/")):n(2,a="Password or Username incorrect")},function(t){o=t,n(0,o)},function(t){i=t,n(1,i)}]}class xe extends ct{constructor(t){super(),st(this,t,ye,we,i,{})}}function ke(e){let n,r,o,i,a,s;return r=new Yt({}),a=new xe({}),{c(){n=v("main"),rt(r.$$.fragment),o=w(),i=v("div"),rt(a.$$.fragment),_(i,"class","center svelte-xanfh7"),_(n,"class","svelte-xanfh7")},m(t,e){m(t,n,e),ot(r,n,null),h(n,o),h(n,i),ot(a,i,null),s=!0},p:t,i(t){s||(Q(r.$$.fragment,t),Q(a.$$.fragment,t),s=!0)},o(t){X(r.$$.fragment,t),X(a.$$.fragment,t),s=!1},d(t){t&&$(n),it(r),it(a)}}}function _e(t,e,n){let{params:r}=e;return t.$$set=t=>{"params"in t&&n(0,r=t.params)},[r]}class Ce extends ct{constructor(t){super(),st(this,t,_e,ke,i,{params:0})}}function Pe(t){let e,n,r,o,i,a,s,l,f,g;const y=t[6].default,k=c(y,t,t[5],null);return{c(){e=v("label"),k&&k.c(),n=w(),r=v("span"),o=b(t[0]),i=w(),a=v("input"),s=v("br"),_(r,"class","error svelte-115dqbd"),_(e,"for",t[1]),_(a,"name",t[1]),_(a,"id",t[1]),_(a,"placeholder",t[2]),_(a,"type","text"),_(a,"class","svelte-115dqbd"),I(a,"falseInput",t[0])},m(c,u){m(c,e,u),k&&k.m(e,null),h(e,n),h(e,r),h(r,o),m(c,i,u),m(c,a,u),E(a,t[3]),m(c,s,u),l=!0,f||(g=x(a,"input",t[7]),f=!0)},p(t,[n]){k&&k.p&&(!l||32&n)&&d(k,y,t,t[5],l?u(y,t[5],n,null):p(t[5]),null),(!l||1&n)&&P(o,t[0]),(!l||2&n)&&_(e,"for",t[1]),(!l||2&n)&&_(a,"name",t[1]),(!l||2&n)&&_(a,"id",t[1]),(!l||4&n)&&_(a,"placeholder",t[2]),8&n&&a.value!==t[3]&&E(a,t[3]),1&n&&I(a,"falseInput",t[0])},i(t){l||(Q(k,t),l=!0)},o(t){X(k,t),l=!1},d(t){t&&$(e),k&&k.d(t),t&&$(i),t&&$(a),t&&$(s),f=!1,g()}}}const Ee=/^\S+@\S+\.(com|nl)$/;function Le(t,e,n){let{$$slots:r={},$$scope:o}=e,{name:i=""}=e,{placeholder:a=""}=e,s="",{value:c=""}=e,{err:l}=e;return t.$$set=t=>{"name"in t&&n(1,i=t.name),"placeholder"in t&&n(2,a=t.placeholder),"value"in t&&n(4,c=t.value),"err"in t&&n(0,l=t.err),"$$scope"in t&&n(5,o=t.$$scope)},t.$$.update=()=>{8&t.$$.dirty&&(Ee.test(s)||""===s?(n(4,c=s),n(0,l="")):(n(4,c=""),n(0,l="Invalid email")))},[l,i,a,s,c,o,r,function(){s=this.value,n(3,s)}]}class Se extends ct{constructor(t){super(),st(this,t,Le,Pe,i,{name:1,placeholder:2,value:4,err:0})}}function Ie(t){let e;return{c(){e=b("Username")},m(t,n){m(t,e,n)},d(t){t&&$(e)}}}function Ae(t){let e;return{c(){e=b("Email")},m(t,n){m(t,e,n)},d(t){t&&$(e)}}}function Te(t){let e;return{c(){e=b("Password")},m(t,n){m(t,e,n)},d(t){t&&$(e)}}}function qe(t){let e;return{c(){e=b("Password again")},m(t,n){m(t,e,n)},d(t){t&&$(e)}}}function Re(t){let e,n;return{c(){e=v("div"),n=b(t[4]),_(e,"id","error"),_(e,"class","svelte-5qb2ty")},m(t,r){m(t,e,r),h(e,n)},p(t,e){16&e&&P(n,t[4])},d(t){t&&$(e)}}}function je(t){let e,n,r,o,i,a,s,c,l,u,d,p,f,g,b,y,C,P;function E(e){t[6](e)}let L={name:"username",placeholder:"username123",$$slots:{default:[Ie]},$$scope:{ctx:t}};function S(e){t[7](e)}void 0!==t[0]&&(L.value=t[0]),n=new fe({props:L}),U.push((()=>nt(n,"value",E)));let I={name:"email",placeholder:"test@test.com",$$slots:{default:[Ae]},$$scope:{ctx:t}};function A(e){t[8](e)}void 0!==t[3]&&(I.value=t[3]),i=new Se({props:I}),U.push((()=>nt(i,"value",S)));let T={name:"password",validate:"true",$$slots:{default:[Te]},$$scope:{ctx:t}};function q(e){t[9](e)}void 0!==t[1]&&(T.value=t[1]),c=new $e({props:T}),U.push((()=>nt(c,"value",A)));let R={sameAs:t[1],name:"passwordAgain",$$slots:{default:[qe]},$$scope:{ctx:t}};void 0!==t[2]&&(R.value=t[2]),d=new $e({props:R}),U.push((()=>nt(d,"value",q)));let j=t[4]&&Re(t);return{c(){e=v("form"),rt(n.$$.fragment),o=w(),rt(i.$$.fragment),s=w(),rt(c.$$.fragment),u=w(),rt(d.$$.fragment),f=w(),g=v("button"),g.textContent="Register",b=w(),j&&j.c(),_(g,"type","submit"),g.value="submit",_(g,"class","svelte-5qb2ty")},m(r,a){m(r,e,a),ot(n,e,null),h(e,o),ot(i,e,null),h(e,s),ot(c,e,null),h(e,u),ot(d,e,null),h(e,f),h(e,g),h(e,b),j&&j.m(e,null),y=!0,C||(P=x(e,"submit",k(t[5])),C=!0)},p(t,[o]){const s={};1024&o&&(s.$$scope={dirty:o,ctx:t}),!r&&1&o&&(r=!0,s.value=t[0],M((()=>r=!1))),n.$set(s);const u={};1024&o&&(u.$$scope={dirty:o,ctx:t}),!a&&8&o&&(a=!0,u.value=t[3],M((()=>a=!1))),i.$set(u);const f={};1024&o&&(f.$$scope={dirty:o,ctx:t}),!l&&2&o&&(l=!0,f.value=t[1],M((()=>l=!1))),c.$set(f);const h={};2&o&&(h.sameAs=t[1]),1024&o&&(h.$$scope={dirty:o,ctx:t}),!p&&4&o&&(p=!0,h.value=t[2],M((()=>p=!1))),d.$set(h),t[4]?j?j.p(t,o):(j=Re(t),j.c(),j.m(e,null)):j&&(j.d(1),j=null)},i(t){y||(Q(n.$$.fragment,t),Q(i.$$.fragment,t),Q(c.$$.fragment,t),Q(d.$$.fragment,t),y=!0)},o(t){X(n.$$.fragment,t),X(i.$$.fragment,t),X(c.$$.fragment,t),X(d.$$.fragment,t),y=!1},d(t){t&&$(e),it(n),it(i),it(c),it(d),j&&j.d(),C=!1,P()}}}function Ue(t,e,n){let r,o,i,a,s;return[r,o,i,a,s,async function(){if(i&&a&&r){201===(await fetch("http://localhost:3000/api/users",{method:"POST",headers:{"Content-Type":"Application/json"},body:JSON.stringify({username:r,password:i,email:a,roles:["user"]})})).status?(n(4,s=null),dt.redirect("/login")):n(4,s="Data incorrect")}else n(4,s="Data incorrect")},function(t){r=t,n(0,r)},function(t){a=t,n(3,a)},function(t){o=t,n(1,o)},function(t){i=t,n(2,i)}]}class ze extends ct{constructor(t){super(),st(this,t,Ue,je,i,{})}}function Ne(e){let n,r,o,i,a,s;return r=new Yt({}),a=new ze({}),{c(){n=v("main"),rt(r.$$.fragment),o=w(),i=v("div"),rt(a.$$.fragment),_(i,"class","center svelte-xanfh7"),_(n,"class","svelte-xanfh7")},m(t,e){m(t,n,e),ot(r,n,null),h(n,o),h(n,i),ot(a,i,null),s=!0},p:t,i(t){s||(Q(r.$$.fragment,t),Q(a.$$.fragment,t),s=!0)},o(t){X(r.$$.fragment,t),X(a.$$.fragment,t),s=!1},d(t){t&&$(n),it(r),it(a)}}}function Oe(t,e,n){let{params:r}=e;return t.$$set=t=>{"params"in t&&n(0,r=t.params)},[r]}class De extends ct{constructor(t){super(),st(this,t,Oe,Ne,i,{params:0})}}function He(t,e,n){const r=t.slice();return r[4]=e[n],r}function Me(e){let n,r,o=e[7]+"";return{c(){n=v("span"),r=b(o),_(n,"class","error svelte-114s1a4")},m(t,e){m(t,n,e),h(n,r)},p:t,d(t){t&&$(n)}}}function Be(t){let e,n=[],r=new Map,o=t[3];const i=t=>t[4].id;for(let e=0;e<o.length;e+=1){let a=He(t,o,e),s=i(a);r.set(s,n[e]=Ve(s,a))}return{c(){e=v("ul");for(let t=0;t<n.length;t+=1)n[t].c()},m(t,r){m(t,e,r);for(let t=0;t<n.length;t+=1)n[t].m(e,null)},p(t,a){1&a&&(o=t[3],n=function(t,e,n,r,o,i,a,s,c,l,u,d){let p=t.length,f=i.length,h=p;const m={};for(;h--;)m[t[h].key]=h;const $=[],g=new Map,v=new Map;for(h=f;h--;){const t=d(o,i,h),s=n(t);let c=a.get(s);c?r&&c.p(t,e):(c=l(s,t),c.c()),g.set(s,$[h]=c),s in m&&v.set(s,Math.abs(h-m[s]))}const b=new Set,w=new Set;function y(t){Q(t,1),t.m(s,u),a.set(t.key,t),u=t.first,f--}for(;p&&f;){const e=$[f-1],n=t[p-1],r=e.key,o=n.key;e===n?(u=e.first,p--,f--):g.has(o)?!a.has(r)||b.has(r)?y(e):w.has(o)?p--:v.get(r)>v.get(o)?(w.add(r),y(e)):(b.add(o),p--):(c(n,a),p--)}for(;p--;){const e=t[p];g.has(e.key)||c(e,a)}for(;f;)y($[f-1]);return $}(n,a,i,1,t,o,r,e,et,Ve,null,He))},d(t){t&&$(e);for(let t=0;t<n.length;t+=1)n[t].d()}}}function Ve(t,e){let n,r,o,i,a,s,c,l=e[4].id+"",u=e[4].username+"",d=e[4].email+"";return{key:t,first:null,c(){n=v("li"),r=b(l),o=b(" - "),i=b(u),a=b(" - "),s=b(d),c=w(),this.first=n},m(t,e){m(t,n,e),h(n,r),h(n,o),h(n,i),h(n,a),h(n,s),h(n,c)},p(t,n){e=t},d(t){t&&$(n)}}}function Je(e){let n;return{c(){n=b("Loading...")},m(t,e){m(t,n,e)},p:t,d(t){t&&$(n)}}}function Fe(e){let n,r={ctx:e,current:null,token:null,hasCatch:!0,pending:Je,then:Be,catch:Me,value:3,error:7};return Y(e[0],r),{c(){n=y(),r.block.c()},m(t,e){m(t,n,e),r.block.m(t,r.anchor=e),r.mount=()=>n.parentNode,r.anchor=n},p(t,[n]){tt(r,e=t,n)},i:t,o:t,d(t){t&&$(n),r.block.d(t),r.token=null,r=null}}}function Ke(t,e,n){let r;return s(t,_t,(t=>n(1,r=t))),[async function(){const t=await fetch("http://localhost:3000/api/users",{method:"get",headers:new Headers({Authorization:"bearer "+r})}),e=t.json();if(t.ok)return e;throw 403===t.status?new Error("User is not authorized"):new Error("User request failed")}()]}class Ge extends ct{constructor(t){super(),st(this,t,Ke,Fe,i,{})}}function We(t){let e,n,r;return n=new Ge({}),{c(){e=v("br"),rt(n.$$.fragment)},m(t,o){m(t,e,o),ot(n,t,o),r=!0},i(t){r||(Q(n.$$.fragment,t),r=!0)},o(t){X(n.$$.fragment,t),r=!1},d(t){t&&$(e),it(n,t)}}}function Ze(t){let e,n;return e=new Gt({props:{admin:"true",itemType:"beer",listPageSize:"4"}}),{c(){rt(e.$$.fragment)},m(t,r){ot(e,t,r),n=!0},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){it(e,t)}}}function Qe(t){let e,n,r,o,i,a,s,c,l,u,d,p,f,g,b;n=new Yt({});const y=[Ze,We],k=[];function C(t,e){return"Auctions"===t[0]?0:"Accounts"===t[0]?1:-1}return~(d=C(t))&&(p=k[d]=y[d](t)),{c(){e=v("main"),rt(n.$$.fragment),r=w(),o=v("div"),i=v("label"),a=w(),s=v("select"),c=v("option"),c.textContent="Auctions",l=v("option"),l.textContent="Accounts",u=w(),p&&p.c(),_(i,"for","menuselect"),c.__value="Auctions",c.value=c.__value,l.__value="Accounts",l.value=l.__value,_(s,"id","menuselect"),_(s,"name","menuselect"),void 0===t[0]&&H((()=>t[2].call(s))),_(o,"class","center svelte-13g967b"),_(e,"class","svelte-13g967b")},m(p,$){m(p,e,$),ot(n,e,null),h(e,r),h(e,o),h(o,i),h(o,a),h(o,s),h(s,c),h(s,l),L(s,t[0]),h(o,u),~d&&k[d].m(o,null),f=!0,g||(b=x(s,"change",t[2]),g=!0)},p(t,[e]){1&e&&L(s,t[0]);let n=d;d=C(t),d!==n&&(p&&(W(),X(k[n],1,1,(()=>{k[n]=null})),Z()),~d?(p=k[d],p||(p=k[d]=y[d](t),p.c()),Q(p,1),p.m(o,null)):p=null)},i(t){f||(Q(n.$$.fragment,t),Q(p),f=!0)},o(t){X(n.$$.fragment,t),X(p),f=!1},d(t){t&&$(e),it(n),~d&&k[d].d(),g=!1,b()}}}function Xe(t,e,n){let r="Auctions",{params:o}=e;return t.$$set=t=>{"params"in t&&n(1,o=t.params)},[r,o,function(){r=S(this),n(0,r)}]}class Ye extends ct{constructor(t){super(),st(this,t,Xe,Qe,i,{params:1})}}function tn(t,e,n){const r=t.slice();return r[7]=e[n],r}function en(t){let e,n,r,o=t[7].name+"";return{c(){e=v("option"),n=b(o),e.__value=r=t[7].id,e.value=e.__value},m(t,r){m(t,e,r),h(e,n)},p(t,i){4&i&&o!==(o=t[7].name+"")&&P(n,o),4&i&&r!==(r=t[7].id)&&(e.__value=r,e.value=e.__value)},d(t){t&&$(e)}}}function nn(t){let e,n,r,o,i,a;const s=t[5].default,l=c(s,t,t[4],null);let f=t[2],h=[];for(let e=0;e<f.length;e+=1)h[e]=en(tn(t,f,e));return{c(){e=v("label"),l&&l.c(),n=w(),r=v("select");for(let t=0;t<h.length;t+=1)h[t].c();_(e,"for",t[1]),_(r,"name",t[1]),_(r,"id",t[1]),void 0===t[0]&&H((()=>t[6].call(r)))},m(s,c){m(s,e,c),l&&l.m(e,null),m(s,n,c),m(s,r,c);for(let t=0;t<h.length;t+=1)h[t].m(r,null);L(r,t[0]),o=!0,i||(a=x(r,"change",t[6]),i=!0)},p(t,[n]){if(l&&l.p&&(!o||16&n)&&d(l,s,t,t[4],o?u(s,t[4],n,null):p(t[4]),null),(!o||2&n)&&_(e,"for",t[1]),4&n){let e;for(f=t[2],e=0;e<f.length;e+=1){const o=tn(t,f,e);h[e]?h[e].p(o,n):(h[e]=en(o),h[e].c(),h[e].m(r,null))}for(;e<h.length;e+=1)h[e].d(1);h.length=f.length}(!o||2&n)&&_(r,"name",t[1]),(!o||2&n)&&_(r,"id",t[1]),5&n&&L(r,t[0])},i(t){o||(Q(l,t),o=!0)},o(t){X(l,t),o=!1},d(t){t&&$(e),l&&l.d(t),t&&$(n),t&&$(r),g(h,t),i=!1,a()}}}function rn(t,e,n){let r;s(t,$t,(t=>n(2,r=t)));let{$$slots:o={},$$scope:i}=e,{name:a=""}=e,{placeholder:c=""}=e,{value:l=""}=e;return t.$$set=t=>{"name"in t&&n(1,a=t.name),"placeholder"in t&&n(3,c=t.placeholder),"value"in t&&n(0,l=t.value),"$$scope"in t&&n(4,i=t.$$scope)},[l,a,r,c,i,o,function(){l=S(this),n(0,l)}]}class on extends ct{constructor(t){super(),st(this,t,rn,nn,i,{name:1,placeholder:3,value:0})}}function an(t){let e,n,r,o,i,a,s;const l=t[4].default,f=c(l,t,t[3],null);return{c(){e=v("label"),f&&f.c(),n=w(),r=v("input"),o=v("br"),_(e,"for",t[1]),_(r,"name",t[1]),_(r,"id",t[1]),_(r,"placeholder",t[2]),_(r,"type","number"),_(r,"class","svelte-1g50vj2")},m(c,l){m(c,e,l),f&&f.m(e,null),m(c,n,l),m(c,r,l),E(r,t[0]),m(c,o,l),i=!0,a||(s=x(r,"input",t[5]),a=!0)},p(t,[n]){f&&f.p&&(!i||8&n)&&d(f,l,t,t[3],i?u(l,t[3],n,null):p(t[3]),null),(!i||2&n)&&_(e,"for",t[1]),(!i||2&n)&&_(r,"name",t[1]),(!i||2&n)&&_(r,"id",t[1]),(!i||4&n)&&_(r,"placeholder",t[2]),1&n&&C(r.value)!==t[0]&&E(r,t[0])},i(t){i||(Q(f,t),i=!0)},o(t){X(f,t),i=!1},d(t){t&&$(e),f&&f.d(t),t&&$(n),t&&$(r),t&&$(o),a=!1,s()}}}function sn(t,e,n){let{$$slots:r={},$$scope:o}=e,{name:i=""}=e,{placeholder:a=""}=e,{value:s=Date.now()}=e;return t.$$set=t=>{"name"in t&&n(1,i=t.name),"placeholder"in t&&n(2,a=t.placeholder),"value"in t&&n(0,s=t.value),"$$scope"in t&&n(3,o=t.$$scope)},[s,i,a,o,r,function(){s=C(this.value),n(0,s)}]}class cn extends ct{constructor(t){super(),st(this,t,sn,an,i,{name:1,placeholder:2,value:0})}}function ln(t){let e,n;return{c(){e=v("span"),n=b(t[3]),_(e,"class","error svelte-115dqbd")},m(t,r){m(t,e,r),h(e,n)},p(t,e){8&e&&P(n,t[3])},d(t){t&&$(e)}}}function un(t){let e,n,r,o,i,a,s,l;const f=t[7].default,g=c(f,t,t[6],null);let b=t[3]&&ln(t);return{c(){e=v("label"),g&&g.c(),n=w(),b&&b.c(),r=w(),o=v("input"),i=v("br"),_(e,"for",t[0]),_(o,"name",t[0]),_(o,"id",t[0]),_(o,"placeholder",t[1]),_(o,"type","number"),_(o,"class","svelte-115dqbd"),I(o,"falseInput",t[3])},m(c,u){m(c,e,u),g&&g.m(e,null),h(e,n),b&&b.m(e,null),m(c,r,u),m(c,o,u),E(o,t[2]),m(c,i,u),a=!0,s||(l=x(o,"input",t[8]),s=!0)},p(t,[n]){g&&g.p&&(!a||64&n)&&d(g,f,t,t[6],a?u(f,t[6],n,null):p(t[6]),null),t[3]?b?b.p(t,n):(b=ln(t),b.c(),b.m(e,null)):b&&(b.d(1),b=null),(!a||1&n)&&_(e,"for",t[0]),(!a||1&n)&&_(o,"name",t[0]),(!a||1&n)&&_(o,"id",t[0]),(!a||2&n)&&_(o,"placeholder",t[1]),4&n&&C(o.value)!==t[2]&&E(o,t[2]),8&n&&I(o,"falseInput",t[3])},i(t){a||(Q(g,t),a=!0)},o(t){X(g,t),a=!1},d(t){t&&$(e),g&&g.d(t),b&&b.d(),t&&$(r),t&&$(o),t&&$(i),s=!1,l()}}}function dn(t,e,n){let r,o,{$$slots:i={},$$scope:a}=e,{name:s=""}=e,{placeholder:c=""}=e,{minValue:l=0}=e,{value:u}=e;return t.$$set=t=>{"name"in t&&n(0,s=t.name),"placeholder"in t&&n(1,c=t.placeholder),"minValue"in t&&n(5,l=t.minValue),"value"in t&&n(4,u=t.value),"$$scope"in t&&n(6,a=t.$$scope)},t.$$.update=()=>{36&t.$$.dirty&&(o>l?(n(4,u=o),n(3,r=null)):n(3,r=o?"Too low.":null))},[s,c,o,r,u,l,a,i,function(){o=C(this.value),n(2,o)}]}class pn extends ct{constructor(t){super(),st(this,t,dn,un,i,{name:0,placeholder:1,minValue:5,value:4})}}function fn(t){let e;return{c(){e=b("Product")},m(t,n){m(t,e,n)},d(t){t&&$(e)}}}function hn(t){let e;return{c(){e=b("End date timestamp")},m(t,n){m(t,e,n)},d(t){t&&$(e)}}}function mn(t){let e;return{c(){e=b("Startprice")},m(t,n){m(t,e,n)},d(t){t&&$(e)}}}function $n(t){let e,n;return{c(){e=v("span"),n=b(t[1]),_(e,"class","error svelte-1jwui35")},m(t,r){m(t,e,r),h(e,n)},p(t,e){2&e&&P(n,t[1])},d(t){t&&$(e)}}}function gn(t){let e,n,r,o,i,a,s,c,l,u,d,p,f,g,b,C;function P(e){t[4](e)}let E={$$slots:{default:[fn]},$$scope:{ctx:t}};function L(e){t[5](e)}void 0!==t[0].productId&&(E.value=t[0].productId),n=new on({props:E}),U.push((()=>nt(n,"value",P)));let S={$$slots:{default:[hn]},$$scope:{ctx:t}};function I(e){t[6](e)}void 0!==t[0].endDate&&(S.value=t[0].endDate),i=new cn({props:S}),U.push((()=>nt(i,"value",L)));let A={$$slots:{default:[mn]},$$scope:{ctx:t}};void 0!==t[0].startPrice&&(A.value=t[0].startPrice),c=new pn({props:A}),U.push((()=>nt(c,"value",I)));let T=t[1]&&$n(t);return{c(){e=v("form"),rt(n.$$.fragment),o=w(),rt(i.$$.fragment),s=w(),rt(c.$$.fragment),u=w(),d=v("button"),d.textContent="submit",p=w(),T&&T.c(),f=y(),_(d,"type","submit"),d.value="submit",_(d,"class","svelte-1jwui35")},m(r,a){m(r,e,a),ot(n,e,null),h(e,o),ot(i,e,null),h(e,s),ot(c,e,null),h(e,u),h(e,d),m(r,p,a),T&&T.m(r,a),m(r,f,a),g=!0,b||(C=x(e,"submit",k(t[2])),b=!0)},p(t,[e]){const o={};256&e&&(o.$$scope={dirty:e,ctx:t}),!r&&1&e&&(r=!0,o.value=t[0].productId,M((()=>r=!1))),n.$set(o);const s={};256&e&&(s.$$scope={dirty:e,ctx:t}),!a&&1&e&&(a=!0,s.value=t[0].endDate,M((()=>a=!1))),i.$set(s);const u={};256&e&&(u.$$scope={dirty:e,ctx:t}),!l&&1&e&&(l=!0,u.value=t[0].startPrice,M((()=>l=!1))),c.$set(u),t[1]?T?T.p(t,e):(T=$n(t),T.c(),T.m(f.parentNode,f)):T&&(T.d(1),T=null)},i(t){g||(Q(n.$$.fragment,t),Q(i.$$.fragment,t),Q(c.$$.fragment,t),g=!0)},o(t){X(n.$$.fragment,t),X(i.$$.fragment,t),X(c.$$.fragment,t),g=!1},d(t){t&&$(e),it(n),it(i),it(c),t&&$(p),T&&T.d(t),t&&$(f),b=!1,C()}}}function vn(t,e,n){let r;s(t,_t,(t=>n(7,r=t)));let{auction:o}=e,{updating:i=!1}=e,a="";return t.$$set=t=>{"auction"in t&&n(0,o=t.auction),"updating"in t&&n(3,i=t.updating)},[o,a,async function(){let t;t=i?await fetch("http://localhost:3000/api/auctions/"+o.id,{method:"put",headers:new Headers({"Content-Type":"application/json",Authorization:"bearer "+r}),body:JSON.stringify({startPrice:o.startPrice,price:o.startPrice,startDate:Date.now(),endDate:o.endDate,productId:o.productId})}):await fetch("http://localhost:3000/api/auctions",{method:"post",headers:new Headers({"Content-Type":"application/json",Authorization:"bearer "+r}),body:JSON.stringify({startPrice:o.startPrice,price:o.startPrice,startDate:Date.now(),endDate:o.endDate,productId:o.productId})}),t.ok?(n(1,a=""),dt.redirect("/admin")):n(1,a="an error occurred with the request")},i,function(e){t.$$.not_equal(o.productId,e)&&(o.productId=e,n(0,o))},function(e){t.$$.not_equal(o.endDate,e)&&(o.endDate=e,n(0,o))},function(e){t.$$.not_equal(o.startPrice,e)&&(o.startPrice=e,n(0,o))}]}class bn extends ct{constructor(t){super(),st(this,t,vn,gn,i,{auction:0,updating:3})}}function wn(t){let e,n,r,o,i,a;return n=new Yt({}),i=new bn({props:{auction:t[0],updating:t[1]}}),{c(){e=v("main"),rt(n.$$.fragment),r=w(),o=v("div"),rt(i.$$.fragment),_(o,"class","center svelte-xanfh7"),_(e,"class","svelte-xanfh7")},m(t,s){m(t,e,s),ot(n,e,null),h(e,r),h(e,o),ot(i,o,null),a=!0},p(t,[e]){const n={};1&e&&(n.auction=t[0]),2&e&&(n.updating=t[1]),i.$set(n)},i(t){a||(Q(n.$$.fragment,t),Q(i.$$.fragment,t),a=!0)},o(t){X(n.$$.fragment,t),X(i.$$.fragment,t),a=!1},d(t){t&&$(e),it(n),it(i)}}}function yn(t,e,n){let r;s(t,gt,(t=>n(3,r=t)));let o,{params:i}=e,a=r.find((t=>t.id==i.params.id)),c={};return a?(c=a,o=!0):"new"===i.params.id?o=!1:dt.redirect("/admin"),t.$$set=t=>{"params"in t&&n(2,i=t.params)},[c,o,i]}class xn extends ct{constructor(t){super(),st(this,t,yn,wn,i,{params:2})}}function kn(e){let n,r=e[9]&&function(e){let n,r,o=e[9]+"";return{c(){n=v("span"),r=b(o),_(n,"class","error")},m(t,e){m(t,n,e),h(n,r)},p:t,d(t){t&&$(n)}}}(e);return{c(){r&&r.c(),n=y()},m(t,e){r&&r.m(t,e),m(t,n,e)},p(t,e){t[9]&&r.p(t,e)},d(t){r&&r.d(t),t&&$(n)}}}function _n(t){let e,n,r,o,i,a=t[8].username+"",s=t[0].price+"",c=t[1]>0&&t[2]&&t[8].id===t[2].id&&Cn(t);return{c(){e=v("li"),n=b(a),r=b(": €"),o=b(s),i=w(),c&&c.c()},m(t,a){m(t,e,a),h(e,n),h(e,r),h(e,o),h(e,i),c&&c.m(e,null)},p(t,n){1&n&&s!==(s=t[0].price+"")&&P(o,s),t[1]>0&&t[2]&&t[8].id===t[2].id?c?c.p(t,n):(c=Cn(t),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(t){t&&$(e),c&&c.d()}}}function Cn(e){let n,r,o;return{c(){n=v("button"),n.textContent="Delete"},m(t,i){m(t,n,i),r||(o=x(n,"click",e[3]),r=!0)},p:t,d(t){t&&$(n),r=!1,o()}}}function Pn(e){let n;return{c(){n=b("Loading...")},m(t,e){m(t,n,e)},p:t,d(t){t&&$(n)}}}function En(e){let n,r={ctx:e,current:null,token:null,hasCatch:!0,pending:Pn,then:_n,catch:kn,value:8,error:9};return Y(e[4],r),{c(){n=y(),r.block.c()},m(t,e){m(t,n,e),r.block.m(t,r.anchor=e),r.mount=()=>n.parentNode,r.anchor=n},p(t,[n]){tt(r,e=t,n)},i:t,o:t,d(t){t&&$(n),r.block.d(t),r.token=null,r=null}}}function Ln(t,e,n){let r,o;s(t,_t,(t=>n(5,r=t))),s(t,Ct,(t=>n(2,o=t)));const i=R();let{bid:a}=e,{secondsLeft:c=1}=e;let l=async function(){let t=await fetch("http://localhost:3000/api/users/"+a.userId);if(t.ok)return await t.json();throw new Error("Couldn't fetch bids")}();return t.$$set=t=>{"bid"in t&&n(0,a=t.bid),"secondsLeft"in t&&n(1,c=t.secondsLeft)},[a,c,o,async function(){let t=await fetch("http://localhost:3000/api/bids/"+a.id,{method:"delete",headers:new Headers({Authorization:"bearer "+r})});if(t.ok){let e=await t.json();return i("deleteBid"),e}throw new Error("Couldn't fetch bids")},l]}class Sn extends ct{constructor(t){super(),st(this,t,Ln,En,i,{bid:0,secondsLeft:1})}}function In(t){let e;return{c(){e=b("Bid")},m(t,n){m(t,e,n)},d(t){t&&$(e)}}}function An(t){let e,n;return{c(){e=v("span"),n=b(t[1]),_(e,"class","error svelte-d2ed51")},m(t,r){m(t,e,r),h(e,n)},p(t,e){2&e&&P(n,t[1])},d(t){t&&$(e)}}}function Tn(t){let e,n,r,o,i,a,s,c,l,u;function d(e){t[7](e)}let p={name:"bid",minValue:t[2].price,$$slots:{default:[In]},$$scope:{ctx:t}};void 0!==t[0]&&(p.value=t[0]),n=new pn({props:p}),U.push((()=>nt(n,"value",d)));let f=t[1]&&An(t);return{c(){e=v("form"),rt(n.$$.fragment),o=w(),i=v("button"),i.textContent="submit",a=w(),f&&f.c(),s=y(),_(i,"type","submit"),i.value="submit",_(i,"class","svelte-d2ed51"),_(e,"class","svelte-d2ed51")},m(r,d){m(r,e,d),ot(n,e,null),h(e,o),h(e,i),m(r,a,d),f&&f.m(r,d),m(r,s,d),c=!0,l||(u=x(e,"submit",k(t[3])),l=!0)},p(t,[e]){const o={};1024&e&&(o.$$scope={dirty:e,ctx:t}),!r&&1&e&&(r=!0,o.value=t[0],M((()=>r=!1))),n.$set(o),t[1]?f?f.p(t,e):(f=An(t),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null)},i(t){c||(Q(n.$$.fragment,t),c=!0)},o(t){X(n.$$.fragment,t),c=!1},d(t){t&&$(e),it(n),t&&$(a),f&&f.d(t),t&&$(s),l=!1,u()}}}function qn(t,e,n){let r;s(t,_t,(t=>n(8,r=t)));const o=R();let i,a,{bids:c=[]}=e,{startPrice:l=0}=e,{auctionId:u}=e,d=c.reduce(((t,e)=>t.price>e.price?t:e),{price:l});return t.$$set=t=>{"bids"in t&&n(4,c=t.bids),"startPrice"in t&&n(5,l=t.startPrice),"auctionId"in t&&n(6,u=t.auctionId)},[i,a,d,async function(){(await fetch("http://localhost:3000/api/bids",{method:"post",headers:new Headers({"Content-Type":"application/json",Authorization:"bearer "+r}),body:JSON.stringify({price:i,auctionId:u})})).ok?(n(1,a=""),o("submit")):n(1,a="an error occurred with the request")},c,l,u,function(t){i=t,n(0,i)}]}class Rn extends ct{constructor(t){super(),st(this,t,qn,Tn,i,{bids:4,startPrice:5,auctionId:6})}}function jn(t,e,n){const r=t.slice();return r[11]=e[n],r}function Un(t){let e,n,r,o,i,a,s,c,l,u,d,p,f,g,y,x,k,C,E,L,S,I,A,T,q,R,j,U,z,N,O=t[0].product.name+"",D=t[0].product.region+"",H=t[0].product.capacity+"",M=t[0].product.brand+"",B="number"==typeof t[1]&&zn(t),V={ctx:t,current:null,token:null,hasCatch:!0,pending:Jn,then:Mn,catch:Hn,value:10,error:14,blocks:[,,,]};return Y(z=t[2],V),{c(){e=v("h1"),n=b(O),r=w(),o=v("ul"),i=v("h2"),i.textContent="Specifications:",a=w(),s=v("li"),c=v("b"),c.textContent="Region:",l=w(),u=b(D),d=w(),p=v("li"),f=v("b"),f.textContent="Capacity:",g=w(),y=b(H),x=w(),k=v("li"),C=v("b"),C.textContent="Brand:",E=w(),L=b(M),S=w(),I=v("li"),A=v("b"),A.textContent="Time left:",T=w(),B&&B.c(),q=w(),R=v("div"),j=v("h2"),j.textContent="Bids:",U=w(),V.block.c(),_(e,"class","svelte-nfk3kt"),_(o,"class","specs svelte-nfk3kt"),_(R,"class","bids svelte-nfk3kt")},m(t,$){m(t,e,$),h(e,n),m(t,r,$),m(t,o,$),h(o,i),h(o,a),h(o,s),h(s,c),h(s,l),h(s,u),h(o,d),h(o,p),h(p,f),h(p,g),h(p,y),h(o,x),h(o,k),h(k,C),h(k,E),h(k,L),h(o,S),h(o,I),h(I,A),h(I,T),B&&B.m(I,null),m(t,q,$),m(t,R,$),h(R,j),h(R,U),V.block.m(R,V.anchor=null),V.mount=()=>R,V.anchor=null,N=!0},p(e,r){t=e,(!N||1&r)&&O!==(O=t[0].product.name+"")&&P(n,O),(!N||1&r)&&D!==(D=t[0].product.region+"")&&P(u,D),(!N||1&r)&&H!==(H=t[0].product.capacity+"")&&P(y,H),(!N||1&r)&&M!==(M=t[0].product.brand+"")&&P(L,M),"number"==typeof t[1]?B?B.p(t,r):(B=zn(t),B.c(),B.m(I,null)):B&&(B.d(1),B=null),V.ctx=t,4&r&&z!==(z=t[2])&&Y(z,V)||tt(V,t,r)},i(t){N||(Q(V.block),N=!0)},o(t){for(let t=0;t<3;t+=1){X(V.blocks[t])}N=!1},d(t){t&&$(e),t&&$(r),t&&$(o),B&&B.d(),t&&$(q),t&&$(R),V.block.d(),V.token=null,V=null}}}function zn(t){let e,n=t[1]%60+"",r=t[1]>60&&Nn(t);return{c(){r&&r.c(),e=b(n)},m(t,n){r&&r.m(t,n),m(t,e,n)},p(t,o){t[1]>60?r?r.p(t,o):(r=Nn(t),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),2&o&&n!==(n=t[1]%60+"")&&P(e,n)},d(t){r&&r.d(t),t&&$(e)}}}function Nn(t){let e,n,r=Math.trunc(t[1]/60)%60+"",o=t[1]>3600&&On(t);return{c(){o&&o.c(),e=b(r),n=b(":")},m(t,r){o&&o.m(t,r),m(t,e,r),m(t,n,r)},p(t,n){t[1]>3600?o?o.p(t,n):(o=On(t),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),2&n&&r!==(r=Math.trunc(t[1]/60)%60+"")&&P(e,r)},d(t){o&&o.d(t),t&&$(e),t&&$(n)}}}function On(t){let e,n,r=Math.trunc(t[1]/3600)%24+"",o=t[1]>86400&&Dn(t);return{c(){o&&o.c(),e=b(r),n=b(":")},m(t,r){o&&o.m(t,r),m(t,e,r),m(t,n,r)},p(t,n){t[1]>86400?o?o.p(t,n):(o=Dn(t),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),2&n&&r!==(r=Math.trunc(t[1]/3600)%24+"")&&P(e,r)},d(t){o&&o.d(t),t&&$(e),t&&$(n)}}}function Dn(t){let e,n,r=Math.trunc(t[1]/86400)+"";return{c(){e=b(r),n=b(" days ")},m(t,r){m(t,e,r),m(t,n,r)},p(t,n){2&n&&r!==(r=Math.trunc(t[1]/86400)+"")&&P(e,r)},d(t){t&&$(e),t&&$(n)}}}function Hn(e){let n,r,o=e[14]+"";return{c(){n=v("span"),r=b(o),_(n,"class","error")},m(t,e){m(t,n,e),h(n,r)},p(t,e){4&e&&o!==(o=t[14]+"")&&P(r,o)},i:t,o:t,d(t){t&&$(n)}}}function Mn(t){let e,n,r,o,i,a,s,c,l=t[10].reduce(Kn,{price:t[0].startPrice}).price+"",u=t[3]&&t[3].roles.includes("user")&&t[1]>0,d=t[10],p=[];for(let e=0;e<d.length;e+=1)p[e]=Bn(jn(t,d,e));const f=t=>X(p[t],1,1,(()=>{p[t]=null}));let x=u&&Vn(t);return{c(){e=v("h3"),n=b("Current highest bid: €"),r=b(l),o=w(),i=v("ul");for(let t=0;t<p.length;t+=1)p[t].c();a=w(),x&&x.c(),s=y(),_(i,"class","svelte-nfk3kt")},m(t,l){m(t,e,l),h(e,n),h(e,r),m(t,o,l),m(t,i,l);for(let t=0;t<p.length;t+=1)p[t].m(i,null);m(t,a,l),x&&x.m(t,l),m(t,s,l),c=!0},p(t,e){if((!c||5&e)&&l!==(l=t[10].reduce(Kn,{price:t[0].startPrice}).price+"")&&P(r,l),22&e){let n;for(d=t[10],n=0;n<d.length;n+=1){const r=jn(t,d,n);p[n]?(p[n].p(r,e),Q(p[n],1)):(p[n]=Bn(r),p[n].c(),Q(p[n],1),p[n].m(i,null))}for(W(),n=d.length;n<p.length;n+=1)f(n);Z()}10&e&&(u=t[3]&&t[3].roles.includes("user")&&t[1]>0),u?x?(x.p(t,e),10&e&&Q(x,1)):(x=Vn(t),x.c(),Q(x,1),x.m(s.parentNode,s)):x&&(W(),X(x,1,1,(()=>{x=null})),Z())},i(t){if(!c){for(let t=0;t<d.length;t+=1)Q(p[t]);Q(x),c=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)X(p[t]);X(x),c=!1},d(t){t&&$(e),t&&$(o),t&&$(i),g(p,t),t&&$(a),x&&x.d(t),t&&$(s)}}}function Bn(t){let e,n;return e=new Sn({props:{bid:t[11],secondsLeft:t[1]}}),e.$on("deleteBid",t[6]),{c(){rt(e.$$.fragment)},m(t,r){ot(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.bid=t[11]),2&n&&(r.secondsLeft=t[1]),e.$set(r)},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){it(e,t)}}}function Vn(t){let e,n;return e=new Rn({props:{startPrice:t[0].startPrice,auctionId:t[0].id,bids:t[10]}}),e.$on("submit",t[7]),{c(){rt(e.$$.fragment)},m(t,r){ot(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.startPrice=t[0].startPrice),1&n&&(r.auctionId=t[0].id),4&n&&(r.bids=t[10]),e.$set(r)},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){it(e,t)}}}function Jn(e){let n;return{c(){n=b("Loading...")},m(t,e){m(t,n,e)},p:t,i:t,o:t,d(t){t&&$(n)}}}function Fn(t){let e,n,r,o,i;n=new Yt({});let a=t[0].product&&Un(t);return{c(){e=v("main"),rt(n.$$.fragment),r=w(),o=v("div"),a&&a.c(),_(o,"class","center svelte-nfk3kt"),_(e,"class","svelte-nfk3kt")},m(t,s){m(t,e,s),ot(n,e,null),h(e,r),h(e,o),a&&a.m(o,null),i=!0},p(t,[e]){t[0].product?a?(a.p(t,e),1&e&&Q(a,1)):(a=Un(t),a.c(),Q(a,1),a.m(o,null)):a&&(W(),X(a,1,1,(()=>{a=null})),Z())},i(t){i||(Q(n.$$.fragment,t),Q(a),i=!0)},o(t){X(n.$$.fragment,t),X(a),i=!1},d(t){t&&$(e),it(n),a&&a.d()}}}const Kn=(t,e)=>t.price>e.price?t:e;function Gn(t,e,n){let r,o;s(t,gt,(t=>n(8,r=t))),s(t,Ct,(t=>n(3,o=t)));let{params:i}=e;console.log(i);let a=r.find((t=>t.id===parseInt(i.params.id))),c={},l=Math.trunc((c.endDate-Date.now())/1e3);async function u(){let t=await fetch("http://localhost:3000/api/bids?auctionId="+i.params.id);if(t.ok)return await t.json();throw new Error("couldnt fetch bids")}setInterval((()=>n(1,l=Math.trunc((c.endDate-Date.now())/1e3))),1e3);let d=u();return t.$$set=t=>{"params"in t&&n(5,i=t.params)},a?n(0,c=a):dt.redirect("/"),[c,l,d,o,u,i,()=>n(2,d=u()),()=>n(2,d=u())]}class Wn extends ct{constructor(t){super(),st(this,t,Gn,Fn,i,{params:5})}}function Zn(t,e,n){const r=t.slice();return r[7]=e[n],r}function Qn(t){let e,n,r,o,i,a,s,c,l,u,d,p,f,g,y,k,C,E,L,S,I,A,T=t[0].username+"",q=t[0].email+"",R=t[0].roles.toString()+"",j={ctx:t,current:null,token:null,hasCatch:!0,pending:er,then:Yn,catch:Xn,value:6,error:10,blocks:[,,,]};return Y(t[2],j),{c(){e=v("div"),n=v("h1"),r=b(T),o=w(),i=v("p"),a=v("b"),a.textContent="email:",s=w(),c=b(q),l=v("br"),u=w(),d=v("b"),d.textContent="roles:",p=w(),f=b(R),g=w(),y=v("button"),y.textContent="logout",k=w(),C=v("br"),E=w(),L=v("div"),j.block.c(),_(L,"class","wonBids"),_(e,"class","center svelte-1uaiq23")},m($,v){m($,e,v),h(e,n),h(n,r),h(e,o),h(e,i),h(i,a),h(i,s),h(i,c),h(i,l),h(i,u),h(i,d),h(i,p),h(i,f),h(e,g),h(e,y),h(e,k),h(e,C),h(e,E),h(e,L),j.block.m(L,j.anchor=null),j.mount=()=>L,j.anchor=null,S=!0,I||(A=x(y,"click",t[1]),I=!0)},p(e,n){t=e,(!S||1&n)&&T!==(T=t[0].username+"")&&P(r,T),(!S||1&n)&&q!==(q=t[0].email+"")&&P(c,q),(!S||1&n)&&R!==(R=t[0].roles.toString()+"")&&P(f,R),tt(j,t,n)},i(t){S||(Q(j.block),S=!0)},o(t){for(let t=0;t<3;t+=1){X(j.blocks[t])}S=!1},d(t){t&&$(e),j.block.d(),j.token=null,j=null,I=!1,A()}}}function Xn(e){let n,r=e[10]&&function(e){let n,r,o=e[10]+"";return{c(){n=v("span"),r=b(o),_(n,"class","error")},m(t,e){m(t,n,e),h(n,r)},p:t,d(t){t&&$(n)}}}(e);return{c(){r&&r.c(),n=y()},m(t,e){r&&r.m(t,e),m(t,n,e)},p(t,e){t[10]&&r.p(t,e)},i:t,o:t,d(t){r&&r.d(t),t&&$(n)}}}function Yn(t){let e,n,r=t[6],o=[];for(let e=0;e<r.length;e+=1)o[e]=tr(Zn(t,r,e));const i=t=>X(o[t],1,1,(()=>{o[t]=null}));return{c(){e=v("ul");for(let t=0;t<o.length;t+=1)o[t].c()},m(t,r){m(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,n){if(4&n){let a;for(r=t[6],a=0;a<r.length;a+=1){const i=Zn(t,r,a);o[a]?(o[a].p(i,n),Q(o[a],1)):(o[a]=tr(i),o[a].c(),Q(o[a],1),o[a].m(e,null))}for(W(),a=r.length;a<o.length;a+=1)i(a);Z()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)Q(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)X(o[t]);n=!1},d(t){t&&$(e),g(o,t)}}}function tr(e){let n,r;return n=new Sn({props:{secondsLeft:"-1",bid:e[7]}}),{c(){rt(n.$$.fragment)},m(t,e){ot(n,t,e),r=!0},p:t,i(t){r||(Q(n.$$.fragment,t),r=!0)},o(t){X(n.$$.fragment,t),r=!1},d(t){it(n,t)}}}function er(e){let n;return{c(){n=b("Loading...")},m(t,e){m(t,n,e)},p:t,i:t,o:t,d(t){t&&$(n)}}}function nr(t){let e,n,r,o;n=new Yt({});let i=t[0]&&Qn(t);return{c(){e=v("main"),rt(n.$$.fragment),r=w(),i&&i.c(),_(e,"class","svelte-1uaiq23")},m(t,a){m(t,e,a),ot(n,e,null),h(e,r),i&&i.m(e,null),o=!0},p(t,[n]){t[0]?i?(i.p(t,n),1&n&&Q(i,1)):(i=Qn(t),i.c(),Q(i,1),i.m(e,null)):i&&(W(),X(i,1,1,(()=>{i=null})),Z())},i(t){o||(Q(n.$$.fragment,t),Q(i),o=!0)},o(t){X(n.$$.fragment,t),X(i),o=!1},d(t){t&&$(e),it(n),i&&i.d()}}}function rr(t,e,n){let r,o;s(t,Ct,(t=>n(0,r=t))),s(t,_t,(t=>n(4,o=t)));let{params:i}=e;let a=async function(){let t=await fetch("http://localhost:3000/api/bids?hasWon=true&userId="+r.id);if(t.ok){return await t.json()}throw new Error("Failed to fetch won Bids")}();return t.$$set=t=>{"params"in t&&n(3,i=t.params)},[r,function(){dt.redirect(""),f(_t,o="",o)},a,i]}class or extends ct{constructor(t){super(),st(this,t,rr,nr,i,{params:3})}}function ir(t){let e,n,r;var o=t[0];function i(t){return{props:{params:t[1]}}}return o&&(e=new o(i(t))),{c(){e&&rt(e.$$.fragment),n=y()},m(t,o){e&&ot(e,t,o),m(t,n,o),r=!0},p(t,[r]){const a={};if(2&r&&(a.params=t[1]),o!==(o=t[0])){if(e){W();const t=e;X(t.$$.fragment,1,0,(()=>{it(t,1)})),Z()}o?(e=new o(i(t)),rt(e.$$.fragment),Q(e.$$.fragment,1),ot(e,n.parentNode,n)):e=null}else o&&e.$set(a)},i(t){r||(e&&Q(e.$$.fragment,t),r=!0)},o(t){e&&X(e.$$.fragment,t),r=!1},d(t){t&&$(n),e&&it(e,t)}}}function ar(t,e,n){let r,o,i;return s(t,Ct,(t=>n(2,r=t))),dt("/",(t=>n(0,o=ue))),dt("/login",(t=>n(0,o=Ce))),dt("/register",(t=>n(0,o=De))),dt("/profile",(t=>{r&&r.roles.includes("user")?n(0,o=or):dt.redirect("/")})),dt("/auctions/:id",(t=>{n(1,i=t),"new"===i.params.id.toLowerCase()?r&&r.roles.includes("admin")?n(0,o=xn):dt.redirect("/"):n(0,o=Wn)})),dt("/admin",(t=>{r&&r.roles.includes("admin")?n(0,o=Ye):dt.redirect("/")})),dt("/auctions/:id/edit",(t=>{r&&r.roles.includes("admin")?(n(0,o=xn),n(1,i=t)):dt.redirect("/")})),dt.start(),[o,i]}return new class extends ct{constructor(t){super(),st(this,t,ar,ir,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
